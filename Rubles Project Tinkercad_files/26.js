(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"+gn3":function(n,l,e){"use strict";e.r(l);var t=e("CcnG");console.log("`Activitiies List` bundle loaded");var i=function(){},a=e("pMnS"),o=e("z5nN"),r=e("iutN"),u=e("atuK"),s=e("qBZu"),c=e("A9CM"),d=e("vale"),m=e("iraW"),p=e("KXmZ"),f=e("HY0A"),g=e("SsTZ"),v=e("XhqY"),h=e("yUtT"),b=e("jqlI"),y=e("tPyT"),C=e("+Lhe"),k=e("pkSY"),_=e("zruM"),R=e("Q5S+"),w=e("Ip0R"),M=e("A7o+"),F=e("0BaN"),I=e("vfWh"),P=e("8PDw"),A=(e("5Zhs"),e("gG+F")),S=function(){function n(n,l,e){this.route=n,this.notificationsService=l,this.authService=e,this.activities=[],this.currentPage=0,this.limit=10,this.user=null,this.working=!1,this.total=0,this.notifications=[],this.currentUser=this.authService.getUser()}return n.prototype.ngOnInit=function(){console.debug("hello `ActivityStreamComponent` component"),this.loadActivities(this.user,this.currentPage,this.limit)},n.prototype.loadMoreActivities=function(){this.currentPage++,this.loadActivities(this.user,this.currentPage,this.limit)},n.prototype.loadActivities=function(n,l,e){var t=this;if(!this.working){var i=this.activities.slice();this.activities=this.activities.concat(new Array(e).fill(null)),this.working=!0,this.notificationsService.getStatusesForUser(n,l,e).subscribe(function(n){t.working=!1;var l=Array.from(n.data,function(n){return new A.b(n)});t.activities=i.concat(l),t.total=parseInt(n.total,10)},function(){t.notifications.push({text:"something-goes-wrong",class:"error"}),t.working=!1})}},n}(),O=e("ZYCi"),D=e("zLjO"),x=t["\u0275crt"]({encapsulation:0,styles:[[".load-more-wrapper[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]     tkActivityFeed>.container-fluid{margin-left:-15px;margin-right:-15px}[_nghost-%COMP%]     tkActivityFeed .activity-row-wrapper{border-bottom:1px solid #edf5f6;padding-bottom:5px;margin-bottom:5px}[_nghost-%COMP%]     tkActivityFeed:last-child .activity-row-wrapper{border-bottom:none}"]],data:{}});function N(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","notifications-messages"]],[[8,"innerHTML",1]],null,null,null,null)),t["\u0275did"](1,278528,null,0,w.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pid"](131072,M.i,[M.j,t.ChangeDetectorRef])],function(n,l){n(l,1,0,"notifications-messages",l.context.$implicit.class)},function(n,l){n(l,0,0,t["\u0275unv"](l,0,0,t["\u0275nov"](l,2).transform(l.context.$implicit.text)))})}function L(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"tkActivityFeed",[],null,null,null,F.b,F.a)),t["\u0275did"](1,49152,null,0,I.a,[P.a],{activity:[0,"activity"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function E(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","load-more-wrapper"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,2,"button",[["class","btn btn-xs"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.loadMoreActivities()&&t),t},null,null)),(n()(),t["\u0275ted"](3,null,["",""])),t["\u0275pid"](131072,M.i,[M.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](5,0,null,null,0,"br",[],null,null,null,null,null))],null,function(n,l){n(l,2,0,l.component.working),n(l,3,0,t["\u0275unv"](l,3,0,t["\u0275nov"](l,4).transform("activity-stream-load_more")))})}function T(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,N)),t["\u0275did"](1,278528,null,0,w.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,L)),t["\u0275did"](3,278528,null,0,w.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](5,16384,null,0,w.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,1,0,e.notifications),n(l,3,0,e.activities),n(l,5,0,e.total>0&&e.total>(e.currentPage+1)*e.limit)},null)}var z=e("mrSG"),V=function(n){function l(l,e,t,i){var a=n.call(this)||this;return a.route=l,a.notificationsService=e,a.authService=t,a.translateService=i,a.currentPage=0,a.limit=10,a.notifications=[],a.isWorking=!1,a.user=a.authService.getUser(),a}return z.__extends(l,n),l.prototype.ngOnInit=function(){var n=this;console.debug("hello `ActivitiesListComponent` component"),this.route.queryParams.subscribe(function(l){n.params=l,console.log(n.params),l.page&&(n.currentPage=l.page),l.pageSize&&(n.limit=l.pageSize)}),this.appReady()},l.prototype.dismissStatusesForUser=function(){var n=this;this.isWorking||(this.isWorking=!0,this.notifications=[],this.notificationsService.dismissStatusesForUser(this.user).subscribe(function(l){n.isWorking=!1,n.notifications.push({label:"user-profile-performed_action_success",class:"success"})},function(){n.isWorking=!1,n.notifications.push({label:"user-profile-performed_action_error",class:"error"})}))},l}(e("Pm9Q").a),U=t["\u0275crt"]({encapsulation:0,styles:[[".cover-wrap.container-fluid[_ngcontent-%COMP%]{width:100%;margin-left:auto}.page-top-content[_ngcontent-%COMP%]{display:flex;align-items:center}.page-top-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:0;margin-left:auto}"]],data:{}});function j(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","notifications-messages"]],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,w.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),t["\u0275ted"](2,null,[" ",""])),t["\u0275pid"](131072,M.i,[M.j,t.ChangeDetectorRef])],function(n,l){n(l,1,0,"notifications-messages",l.context.$implicit.class)},function(n,l){n(l,2,0,t["\u0275unv"](l,2,0,t["\u0275nov"](l,3).transform(l.context.$implicit.label)))})}function W(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,14,"div",[["class","bg-light-grey"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,13,"div",[["class","container-tc"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,12,"div",[["class","cover-wrap container-fluid user-edit"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,11,"div",[["class","cover clearfix container"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,j)),t["\u0275did"](5,278528,null,0,w.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](6,0,null,null,5,"div",[["class","page-top-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,null,2,"h3",[],null,null,null,null,null)),(n()(),t["\u0275ted"](8,null,["",""])),t["\u0275pid"](131072,M.i,[M.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](10,0,null,null,1,"button",[["class","btn"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.dismissStatusesForUser()&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,["Mark all as read"])),(n()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","user-notifications-wrapper"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,1,"tkActivityStream",[],null,null,null,T,x)),t["\u0275did"](14,114688,null,0,S,[O.a,D.a,P.a],{currentPage:[0,"currentPage"],limit:[1,"limit"],user:[2,"user"]},null)],function(n,l){var e=l.component;n(l,5,0,e.notifications),n(l,14,0,e.currentPage,e.limit,e.user)},function(n,l){var e=l.component;n(l,8,0,t["\u0275unv"](l,8,0,t["\u0275nov"](l,9).transform("user_notification_all"))),n(l,10,0,e.isWorking)})}var Z=t["\u0275ccf"]("tkActivitiesList",V,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"tkActivitiesList",[],null,null,null,W,U)),t["\u0275did"](1,114688,null,0,V,[O.a,D.a,P.a,M.j],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),q=e("8e6m"),B=e("gIcY"),H=e("FO+L"),Y=e("ZYjt"),K=e("nhM1"),G=e("BARL"),J=e("NaJL"),$=e("Axip"),Q=e("NJnL"),X=e("lqqz"),nn=e("DQlY"),ln=e("dXze"),en=e("xtZt"),tn=e("9bPP"),an=e("ARl4"),on=e("fHIT"),rn=e("LOpI"),un=e("t/Na"),sn=e("W5pF"),cn=e("PBei"),dn=e("yD1i"),mn=e("F8xH"),pn=e("KbAS"),fn=e("mk10"),gn=e("JbCa"),vn=e("UVXo"),hn=e("PCNd"),bn=function(){},yn=e("/vdw"),Cn=e("cDr6");e.d(l,"ActivitiesListModuleNgFactory",function(){return kn});var kn=t["\u0275cmf"](i,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,o.a,o.b,r.a,u.a,s.a,c.a,d.a,m.a,p.a,f.a,g.a,v.a,h.a,b.a,y.a,C.c,k.b,_.a,R.a,Z]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,w.NgLocalization,w.NgLocaleLocalization,[t.LOCALE_ID,[2,w["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,q.b,q.b,[]),t["\u0275mpd"](4608,B["\u0275angular_packages_forms_forms_i"],B["\u0275angular_packages_forms_forms_i"],[]),t["\u0275mpd"](4608,B.FormBuilder,B.FormBuilder,[]),t["\u0275mpd"](4608,H.ScrollbarHelper,H.ScrollbarHelper,[Y.DOCUMENT]),t["\u0275mpd"](4608,K.DimensionsHelper,K.DimensionsHelper,[]),t["\u0275mpd"](4608,G.ColumnChangesService,G.ColumnChangesService,[]),t["\u0275mpd"](5120,J.b,J.c,[]),t["\u0275mpd"](5120,$.d,$.a,[Y.DOCUMENT,J.b,[3,$.d]]),t["\u0275mpd"](4608,Q.a,Q.a,[t.RendererFactory2]),t["\u0275mpd"](4608,X.a,X.a,[t.ComponentFactoryResolver,t.NgZone,t.Injector,Q.a,t.ApplicationRef]),t["\u0275mpd"](4608,nn.a,nn.a,[t.RendererFactory2,X.a]),t["\u0275mpd"](4608,ln.c,ln.c,[]),t["\u0275mpd"](4608,en.f,en.f,[]),t["\u0275mpd"](4608,tn.b,tn.b,[]),t["\u0275mpd"](4608,an.e,an.e,[]),t["\u0275mpd"](4608,on.c,on.c,[]),t["\u0275mpd"](4608,on.a,on.a,[]),t["\u0275mpd"](4608,on.e,on.e,[]),t["\u0275mpd"](4608,rn.c,rn.c,[t.PLATFORM_ID,[2,un.c],Y.DomSanitizer,rn.d]),t["\u0275mpd"](4608,w.DatePipe,w.DatePipe,[t.LOCALE_ID]),t["\u0275mpd"](4608,sn.a,sn.a,[]),t["\u0275mpd"](1073742336,w.CommonModule,w.CommonModule,[]),t["\u0275mpd"](1073742336,O.p,O.p,[[2,O.v],[2,O.m]]),t["\u0275mpd"](1073742336,cn.a,cn.a,[]),t["\u0275mpd"](1073742336,nn.e,nn.e,[]),t["\u0275mpd"](1073742336,ln.d,ln.d,[]),t["\u0275mpd"](1073742336,q.c,q.c,[]),t["\u0275mpd"](1073742336,en.e,en.e,[]),t["\u0275mpd"](1073742336,B["\u0275angular_packages_forms_forms_bb"],B["\u0275angular_packages_forms_forms_bb"],[]),t["\u0275mpd"](1073742336,B.FormsModule,B.FormsModule,[]),t["\u0275mpd"](1073742336,B.ReactiveFormsModule,B.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,M.g,M.g,[]),t["\u0275mpd"](1073742336,dn.b,dn.b,[]),t["\u0275mpd"](1073742336,tn.c,tn.c,[]),t["\u0275mpd"](1073742336,mn.NgxDatatableModule,mn.NgxDatatableModule,[]),t["\u0275mpd"](1073742336,an.f,an.f,[]),t["\u0275mpd"](1073742336,on.d,on.d,[]),t["\u0275mpd"](1073742336,pn.b,pn.b,[]),t["\u0275mpd"](1073742336,rn.b,rn.b,[]),t["\u0275mpd"](1073742336,fn.a,fn.a,[]),t["\u0275mpd"](1073742336,gn.b,gn.b,[]),t["\u0275mpd"](1073742336,J.a,J.a,[]),t["\u0275mpd"](1073742336,$.c,$.c,[]),t["\u0275mpd"](1073742336,vn.TextMaskModule,vn.TextMaskModule,[]),t["\u0275mpd"](1073742336,hn.a,hn.a,[]),t["\u0275mpd"](1073742336,bn,bn,[]),t["\u0275mpd"](1073742336,i,i,[]),t["\u0275mpd"](1024,O.k,function(){return[[],[{path:"users/:userlongid/notifications",component:V,pathMatch:"full",canActivate:[yn.a,Cn.a],data:{meta:{title:"meta.site.notifications.title"}}}]]},[]),t["\u0275mpd"](256,en.a,{autoClose:!0,insideClick:!1},[]),t["\u0275mpd"](256,rn.d,hn.b,[])])})},"65B7":function(n,l,e){"use strict";e.d(l,"a",function(){return i});var t=e("CcnG"),i=function(){function n(){this.defaultImage="",this.image="",this.src="",this.class=["img-responsive"],this.alt="",this.tries=5,this.delay=5e3,this.onLoaded=new t.EventEmitter,this.onErrored=new t.EventEmitter,this.loaded=!1,this.errored=!1}return n.prototype.ngOnChanges=function(n){n.src&&n.src.currentValue&&""===this.image&&(this.image=n.src.currentValue)},n.prototype.imageLoaded=function(n){this.loaded=!0,this.onLoaded.emit(this.pollImageEl)},n.prototype.imageErrored=function(n){this.errored=!0,this.onErrored.emit()},n}()},"Vqm/":function(n,l,e){"use strict";var t=e("CcnG"),i=e("Ip0R"),a=e("QvAm"),o=e("k1iP");e("65B7"),e.d(l,"a",function(){return r}),e.d(l,"b",function(){return s});var r=t["\u0275crt"]({encapsulation:0,styles:[[".spinning-wheel[_ngcontent-%COMP%]{font-size:14px;color:#000}[hidden][_ngcontent-%COMP%]{display:none}"]],data:{}});function u(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","spinning-wheel"]],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,i.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](2,{height:0,display:1,"align-items":2,"justify-content":3,"z-index":4}),(n()(),t["\u0275eld"](3,0,null,null,0,"div",[["class","fa fa-refresh fa-spin"]],null,null,null,null,null))],function(n,l){n(l,1,0,n(l,2,0,"100%","flex","center","center",5e3))},null)}function s(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{pollImageEl:0}),(n()(),t["\u0275and"](16777216,null,null,1,null,u)),t["\u0275did"](2,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](3,0,[[1,0],["pollImageEl",1]],null,2,"img",[["pollImage",""]],[[8,"hidden",0],[8,"alt",0],[8,"className",0]],[[null,"loaded"],[null,"errored"]],function(n,l,e){var t=!0,i=n.component;return"loaded"===l&&(t=!1!==i.imageLoaded(e)&&t),"errored"===l&&(t=!1!==i.imageErrored(e)&&t),t},null,null)),t["\u0275did"](4,4210688,null,0,a.a,[t.ElementRef,t.NgZone,o.a],{defaultImage:[0,"defaultImage"],retry:[1,"retry"],delay:[2,"delay"],urls:[3,"urls"]},{loaded:"loaded",errored:"errored"}),t["\u0275pad"](5,1)],function(n,l){var e=l.component;n(l,2,0,!e.loaded),n(l,4,0,e.defaultImage,e.tries,e.delay,n(l,5,0,e.image))},function(n,l){var e=l.component;n(l,3,0,e.errored||!e.loaded,t["\u0275inlineInterpolate"](1,"",e.alt,""),e.class)})}}}]);